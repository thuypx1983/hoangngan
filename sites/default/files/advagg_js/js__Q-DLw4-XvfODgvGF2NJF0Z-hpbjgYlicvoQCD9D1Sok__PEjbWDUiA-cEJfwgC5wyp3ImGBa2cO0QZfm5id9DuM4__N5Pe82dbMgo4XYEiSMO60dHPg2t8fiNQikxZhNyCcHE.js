(function(t){Drupal.behaviors.autocomplete={attach:function(e,i){var s=[];t('input.autocomplete',e).once('autocomplete',function(){var i=this.value;if(!s[i]){s[i]=new Drupal.ACDB(i)};var e=t('#'+this.id.substr(0,this.id.length-13)).attr('autocomplete','OFF').attr('aria-autocomplete','list');t(e[0].form).submit(Drupal.autocompleteSubmit);e.parent().attr('role','application').append(t('<span class="element-invisible" aria-live="assertive"></span>').attr('id',e.attr('id')+'-autocomplete-aria-live'));new Drupal.jsAC(e,s[i])})}};Drupal.autocompleteSubmit=function(){return t('#autocomplete').each(function(){this.owner.hidePopup()}).length==0};Drupal.jsAC=function(e,i){var s=this;this.input=e[0];this.ariaLive=t('#'+this.input.id+'-autocomplete-aria-live');this.db=i;e.keydown(function(t){return s.onkeydown(this,t)}).keyup(function(t){s.onkeyup(this,t)}).blur(function(){s.hidePopup();s.db.cancel()})};Drupal.jsAC.prototype.onkeydown=function(t,e){if(!e){e=window.event};switch(e.keyCode){case 40:this.selectDown();return!1;case 38:this.selectUp();return!1;default:return!0}};Drupal.jsAC.prototype.onkeyup=function(t,e){if(!e){e=window.event};switch(e.keyCode){case 16:case 17:case 18:case 20:case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:return!0;case 9:case 13:case 27:this.hidePopup(e.keyCode);return!0;default:if(t.value.length>0&&!t.readOnly){this.populatePopup()}
else{this.hidePopup(e.keyCode)};return!0}};Drupal.jsAC.prototype.select=function(e){this.input.value=t(e).data('autocompleteValue');t(this.input).trigger('autocompleteSelect',[e])};Drupal.jsAC.prototype.selectDown=function(){if(this.selected&&this.selected.nextSibling){this.highlight(this.selected.nextSibling)}
else if(this.popup){var e=t('li',this.popup);if(e.length>0){this.highlight(e.get(0))}}};Drupal.jsAC.prototype.selectUp=function(){if(this.selected&&this.selected.previousSibling){this.highlight(this.selected.previousSibling)}};Drupal.jsAC.prototype.highlight=function(e){if(this.selected){t(this.selected).removeClass('selected')};t(e).addClass('selected');this.selected=e;t(this.ariaLive).html(t(this.selected).html())};Drupal.jsAC.prototype.unhighlight=function(e){t(e).removeClass('selected');this.selected=!1;t(this.ariaLive).empty()};Drupal.jsAC.prototype.hidePopup=function(e){if(this.selected&&((e&&e!=46&&e!=8&&e!=27)||!e)){this.select(this.selected)};var i=this.popup;if(i){this.popup=null;t(i).fadeOut('fast',function(){t(i).remove()})};this.selected=!1;t(this.ariaLive).empty()};Drupal.jsAC.prototype.populatePopup=function(){var e=t(this.input),i=e.position();if(this.popup){t(this.popup).remove()};this.selected=!1;this.popup=t('<div id="autocomplete"></div>')[0];this.popup.owner=this;t(this.popup).css({top:parseInt(i.top+this.input.offsetHeight,10)+'px',left:parseInt(i.left,10)+'px',width:e.innerWidth()+'px',display:'none'});e.before(this.popup);this.db.owner=this;this.db.search(this.input.value)};Drupal.jsAC.prototype.found=function(e){if(!this.input.value.length){return!1};var i=t('<ul></ul>'),s=this;for(key in e){t('<li></li>').html(t('<div></div>').html(e[key])).mousedown(function(){s.hidePopup(this)}).mouseover(function(){s.highlight(this)}).mouseout(function(){s.unhighlight(this)}).data('autocompleteValue',key).appendTo(i)};if(this.popup){if(i.children().length){t(this.popup).empty().append(i).show();t(this.ariaLive).html(Drupal.t('Autocomplete popup'))}
else{t(this.popup).css({visibility:'hidden'});this.hidePopup()}}};Drupal.jsAC.prototype.setStatus=function(e){switch(e){case'begin':t(this.input).addClass('throbbing');t(this.ariaLive).html(Drupal.t('Searching for matches...'));break;case'cancel':case'error':case'found':t(this.input).removeClass('throbbing');break}};Drupal.ACDB=function(t){this.uri=t;this.delay=300;this.cache={}};Drupal.ACDB.prototype.search=function(e){var i=this;this.searchString=e;e=e.replace(/^\s+|\.{2,}\/|\s+$/g,'');if(e.length<=0||e.charAt(e.length-1)==','){return};if(this.cache[e]){return this.owner.found(this.cache[e])};if(this.timer){clearTimeout(this.timer)};this.timer=setTimeout(function(){i.owner.setStatus('begin');t.ajax({type:'GET',url:i.uri+'/'+Drupal.encodePath(e),dataType:'json',success:function(t){if(typeof t.status=='undefined'||t.status!=0){i.cache[e]=t;if(i.searchString==e){i.owner.found(t)};i.owner.setStatus('found')}},error:function(t){Drupal.displayAjaxError(Drupal.ajaxError(t,i.uri))}})},this.delay)};Drupal.ACDB.prototype.cancel=function(){if(this.owner)this.owner.setStatus('cancel');if(this.timer)clearTimeout(this.timer);this.searchString=''}})(jQuery);(function(e){Drupal.ajax.prototype.commands.viewsLoadMoreAppend=function(t,i,l){var s=i.selector?e(i.selector):e(t.wrapper),p=i.method||t.method,d=i.targetList||'',n=t.getEffect(i),w=i.options.pager_selector?i.options.pager_selector:'.pager-load-more',v=e('<div></div>').html(i.data),o=v.contents();if(o.length!=1||o.get(0).nodeType!=1){o=v};var r=i.settings||t.settings||Drupal.settings;Drupal.detachBehaviors(s,r);if(e.waypoints!=undefined){e.waypoints('refresh')};var a=d&&!i.options.content?'> .view-content '+d:i.options.content||'> .view-content';if(n.showEffect!='show'){o.find(a).children().hide()};s.find(w).replaceWith(o.find(w));s.find(a)[p](o.find(a).children());s.find(a).children().removeClass('views-row-first views-row-last views-row-odd views-row-even').filter(':first').addClass('views-row-first').end().filter(':last').addClass('views-row-last').end().filter(':even').addClass('views-row-odd').end().filter(':odd').addClass('views-row-even').end();if(n.showEffect!='show'){s.find(a).children(':not(:visible)')[n.showEffect](n.showSpeed)};s.trigger('views_load_more.new_content',o.clone());var f=s.attr('class'),c=f.match(/jquery-once-[0-9]*-[a-z]*/);s.removeClass(c[0]);r=i.settings||t.settings||Drupal.settings;Drupal.attachBehaviors(s,r)};Drupal.behaviors.ViewsLoadMore={attach:function(t,i){var s={offset:'100%'};if(i&&i.viewsLoadMore&&i.views&&i.views.ajaxViews){e.each(i.viewsLoadMore,function(t,o){var a='.view-id-'+o.view_name+'.view-display-id-'+o.view_display_id+' .pager-next a',n={};e.extend(n,s,i.viewsLoadMore[t].opts);e(a).waypoint('destroy');e(a).waypoint(function(i,t){e(a).click()},n)})}},detach:function(t,i,s){if(i&&i.viewsLoadMore&&i.views&&i.views.ajaxViews){e.each(i.viewsLoadMore,function(s,i){var o='.view-id-'+i.view_name+'.view-display-id-'+i.view_display_id;if(e(t).is(o)){e('.pager-next a',o).waypoint('destroy')}
else{e(o,t).waypoint('destroy')}})}}}})(jQuery);(function(e){Drupal.behaviors.tableHeader={attach:function(i,t){if(!e.support.positionFixed){return};e('table.sticky-enabled',i).once('tableheader',function(){e(this).data('drupal-tableheader',new Drupal.tableHeader(this))})}};Drupal.tableHeader=function(t){var i=this;this.originalTable=e(t);this.originalHeader=e(t).children('thead');this.originalHeaderCells=this.originalHeader.find('> tr > th');this.displayWeight=null;this.originalTable.bind('columnschange',function(e,t){i.widthCalculated=(i.displayWeight!==null&&i.displayWeight===t);i.displayWeight=t});this.stickyTable=e('<table class="sticky-header"/>').insertBefore(this.originalTable).css({position:'fixed',top:'0px'});this.stickyHeader=this.originalHeader.clone(!0).hide().appendTo(this.stickyTable);this.stickyHeaderCells=this.stickyHeader.find('> tr > th');this.originalTable.addClass('sticky-table');e(window).bind('scroll.drupal-tableheader',e.proxy(this,'eventhandlerRecalculateStickyHeader')).bind('resize.drupal-tableheader',{calculateWidth:!0},e.proxy(this,'eventhandlerRecalculateStickyHeader')).bind('drupalDisplaceAnchor.drupal-tableheader',function(){window.scrollBy(0,-i.stickyTable.outerHeight())}).bind('drupalDisplaceFocus.drupal-tableheader',function(e){if(i.stickyVisible&&e.clientY<(i.stickyOffsetTop+i.stickyTable.outerHeight())&&e.$target.closest('sticky-header').length===0){window.scrollBy(0,-i.stickyTable.outerHeight())}}).triggerHandler('resize.drupal-tableheader');this.stickyHeader.show()};Drupal.tableHeader.prototype.eventhandlerRecalculateStickyHeader=function(i){var u=this,d=i.data&&i.data.calculateWidth;this.stickyOffsetTop=Drupal.settings.tableHeaderOffset?eval(Drupal.settings.tableHeaderOffset+'()'):0;this.stickyTable.css('top',this.stickyOffsetTop+'px');var n=document.documentElement.scrollHeight||document.body.scrollHeight;if(d||this.viewHeight!==n){this.viewHeight=n;this.vPosition=this.originalTable.offset().top-4-this.stickyOffsetTop;this.hPosition=this.originalTable.offset().left;this.vLength=this.originalTable[0].clientHeight-100;d=!0};var c=document.documentElement.scrollLeft||document.body.scrollLeft,h=(document.documentElement.scrollTop||document.body.scrollTop)-this.vPosition;this.stickyVisible=h>0&&h<this.vLength;this.stickyTable.css({left:(-c+this.hPosition)+'px',visibility:this.stickyVisible?'visible':'hidden'});if(this.stickyVisible&&(d||!this.widthCalculated)){this.widthCalculated=!0;var t=null,a=null,r=null,l=null;for(var s=0,o=this.originalHeaderCells.length;s<o;s+=1){t=e(this.originalHeaderCells[s]);a=this.stickyHeaderCells.eq(t.index());r=t.css('display');if(r!=='none'){l=t.css('width');if(l==='auto'){l=t[0].clientWidth+'px'};a.css({'width':l,'display':r})}
else{a.css('display','none')}};this.stickyTable.css('width',this.originalTable.outerWidth())}}})(jQuery);(function(e){if(typeof e.fn.prop!='function'){jQuery.fn.extend({prop:jQuery.fn.attr})};Drupal.behaviors.vbo={attach:function(t){e('.vbo-views-form',t).each(function(){Drupal.vbo.initTableBehaviors(this);Drupal.vbo.initGenericBehaviors(this);Drupal.vbo.toggleButtonsState(this)})}};Drupal.vbo=Drupal.vbo||{};Drupal.vbo.initTableBehaviors=function(t){var l=e('.vbo-table-select-all-markup',t);if(l.length){e('.views-table > tbody',t).prepend('<tr class="views-table-row-select-all even">></tr>');var a=e('table th',t).length;e('.views-table-row-select-all',t).html('<td colspan="'+a+'">'+l.html()+'</td>');e('.vbo-table-select-all-pages',t).click(function(){Drupal.vbo.tableSelectAllPages(t);return!1});e('.vbo-table-select-this-page',t).click(function(){Drupal.vbo.tableSelectThisPage(t);return!1})};e('.vbo-table-select-all',t).show();e('.vbo-table-select-all',t).click(function(){var l=e(this).closest('table')[0];e('input[id^="edit-views-bulk-operations"]:not(:disabled)',l).prop('checked',this.checked);Drupal.vbo.toggleButtonsState(t);if(this.checked){e('.views-table-row-select-all',l).show()}
else{e('.views-table-row-select-all',l).hide();Drupal.vbo.tableSelectThisPage(t)}});if(Drupal.settings.vbo.row_clickable){e('.views-table tbody tr',t).click(function(t){if(t.target.tagName.toLowerCase()!='input'&&t.target.tagName.toLowerCase()!='a'){e('input[id^="edit-views-bulk-operations"]:not(:disabled)',this).each(function(){var t=this.checked;this.checked=!t;e(this).trigger('click');this.checked=!t})}})}};Drupal.vbo.tableSelectAllPages=function(t){e('.vbo-table-this-page',t).hide();e('.vbo-table-all-pages',t).show();e('.select-all-rows',t).val('1')};Drupal.vbo.tableSelectThisPage=function(t){e('.vbo-table-all-pages',t).hide();e('.vbo-table-this-page',t).show();e('.select-all-rows',t).val('0')};Drupal.vbo.initGenericBehaviors=function(t){e('.vbo-select-all-markup',t).show();e('.vbo-select-this-page',t).click(function(){e('input[id^="edit-views-bulk-operations"]',t).prop('checked',this.checked);Drupal.vbo.toggleButtonsState(t);e('.vbo-select-all-pages',t).prop('checked',!1);e('.vbo-table-select-all',t).prop('checked',this.checked)});e('.vbo-select-all-pages',t).click(function(){e('input[id^="edit-views-bulk-operations"]',t).prop('checked',this.checked);Drupal.vbo.toggleButtonsState(t);e('.vbo-select-this-page',t).prop('checked',!1);e('.vbo-table-select-all',t).prop('checked',this.checked);e('.select-all-rows',t).val(this.checked)});e('select[name="operation"]',t).change(function(){Drupal.vbo.toggleButtonsState(t)});e('.vbo-select',t).click(function(){if(!this.checked){e('.vbo-select-this-page',t).prop('checked',!1);e('.vbo-select-all-pages',t).prop('checked',!1);e('.select-all-rows',t).val('0');var l=e(this).closest('table')[0];if(l){e('.vbo-table-select-all',l).prop('checked',!1);if(e('.vbo-table-select-this-page',l).length){e('.views-table-row-select-all',l).hide();Drupal.vbo.tableSelectThisPage(t)}}};Drupal.vbo.toggleButtonsState(t)})};Drupal.vbo.toggleButtonsState=function(t){var l=e('select[name="operation"]',t),a=e('.vbo-select:checked',t),o=e('[id^="edit-select"] input[type="submit"]',t);if(l.length){var c=a.length&&l.val()!=='0';o.prop('disabled',!c)}
else{o.prop('disabled',!a.length)}}})(jQuery);