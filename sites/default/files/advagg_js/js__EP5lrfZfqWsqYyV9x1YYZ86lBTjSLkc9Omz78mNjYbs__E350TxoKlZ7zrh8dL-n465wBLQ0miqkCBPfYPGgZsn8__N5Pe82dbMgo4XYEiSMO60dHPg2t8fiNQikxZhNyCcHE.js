(function(e){e.fn.extend({getPath:function(t){if(typeof t=="undefined"){t=""};if(this.is("html")){return"html"+t};var n=this.get(0).nodeName.toLowerCase(),i=this.attr("id"),a=this.attr("class");if(typeof i!="undefined"){n+="#"+i};if(typeof a!="undefined"){n+="."+a.split(/[\s\n]+/).join(".")};if(e(n+t).length<=1){return n+t}
else{return this.parent().getPath(" > "+n+t)}}});Drupal.behaviors.search_autocomplete_admin={attach:function(t){var n="input[type='text']:not(.ui-autocomplete-processed):not(.form-autocomplete)",i="";e("body").once("search-autocomplete",function(){e("<ul id='sa_admin_menu'><div class='sa_title'>Search Aucomplete</div><li class='sa_add'>"+Drupal.t("add autocompletion")+"</li></ul>").appendTo(e("body"))});e("body").delegate(n,"mouseover",function(t){var n=e(this).offset();e("#sa_admin_menu").show();e("#sa_admin_menu").css("left",n.left+e(this).width()-5);e("#sa_admin_menu").css("top",n.top+e(this).height()-5);e("#sa_admin_menu").css("display","inline");e("#sa_admin_menu").css("position","absolute");i=e(this).getPath()});e("body").delegate(n,"click",function(){e("#sa_admin_menu").hide()});e("body").delegate(n,"mouseout",function(){e("#sa_admin_menu").hide()});e("body").delegate("#sa_admin_menu","mouseover",function(){e(this).show()});e("body").delegate("#sa_admin_menu","mouseout",function(){e(this).hide()});e("body").delegate(".sa_add","click",function(){window.location="index.php?q=admin/config/search/search_autocomplete/add&selector="+encodeURI(i.replace("#","%23"))})}}})(jQuery);(function(e){function t(e){var t=document.createElement('DIV');t.innerHTML=e;return t.textContent||t.innerText||''};e.ui.autocomplete.prototype._renderItem=function(o,a){var r=this.term,s=('group' in a)?'first':'',i='<div class="ui-autocomplete-fields '+s+'">';a.value=t(a.value);a.label=Drupal.checkPlain(a.label);if(a.fields){e.each(a.fields,function(t,a){var u=new RegExp('('+e.trim(r)+')','gi'),o=Drupal.checkPlain(a);if(a.indexOf('src=')==-1&&a.indexOf('href=')==-1){o=o.replace(u,'<span class=\'ui-autocomplete-field-term\'>$1</span>');i+=('<div class="ui-autocomplete-field-'+t+'">'+o+'</div>')}
else{i+=('<div class="ui-autocomplete-field-'+t+'">'+a+'</div>')}})}
else{i+=('<div class="ui-autocomplete-field">'+a.label+'</div>')};i+='</div>';var l='';if('group' in a){groupId=typeof(a.group.group_id)!=='undefined'?a.group.group_id:'';groupName=typeof(a.group.group_name)!=='undefined'?a.group.group_name:'';l+=('<div class="ui-autocomplete-field-group '+groupId+'">'+groupName+'</div>');e(l).appendTo(o)};var u=e('<li class=ui-menu-item-'+s+'></li>').append('<a>'+i+'</a>');if(a.value==''){u=e('<li class=\'ui-state-disabled ui-menu-item-'+s+' ui-menu-item\'>'+a.label+'</li>')};u.data('item.autocomplete',a).appendTo(o);Drupal.attachBehaviors(u);return u};e.ui.autocomplete.prototype._resizeMenu=function(){var e=this.menu.element;e.outerWidth(Math.max(e.width('').outerWidth()+5,this.options.position.of==null?this.element.outerWidth():this.options.position.of.outerWidth()))};Drupal.behaviors.search_autocomplete={attach:function(t){if(Drupal.settings.search_autocomplete){e.each(Drupal.settings.search_autocomplete,function(t,a){e(Drupal.settings.search_autocomplete[t].selector).bind('mouseover',function(){e(Drupal.settings.search_autocomplete[t].selector).addClass('form-autocomplete ui-autocomplete-processed').attr('data-sa-theme',Drupal.settings.search_autocomplete[t].theme).autocomplete({minLength:Drupal.settings.search_autocomplete[t].minChars,source:function(a,o){e(Drupal.settings.search_autocomplete[t].selector).addClass('throbbing');if(Drupal.settings.search_autocomplete[t].type=='external'){e.getJSON(Drupal.settings.search_autocomplete[t].datas,{q:encodeURIComponent(a.term)},function(e){if(e.length){e.slice(0,Drupal.settings.search_autocomplete[t].max_sug)};o(e)})}
else if(Drupal.settings.search_autocomplete[t].type=='internal'||Drupal.settings.search_autocomplete[t].type=='view'){e.getJSON(Drupal.settings.search_autocomplete[t].datas,a,function(e){if(e.length){e.slice(0,Drupal.settings.search_autocomplete[t].max_sug)};o(e)})}
else if(Drupal.settings.search_autocomplete[t].type=='static'){var i=e.ui.autocomplete.filter(Drupal.settings.search_autocomplete[t].datas,a.term);if(i.length){i.slice(0,Drupal.settings.search_autocomplete[t].max_sug)};o(i)}},open:function(a,o){e('.ui-autocomplete li.ui-menu-item:odd').addClass('ui-menu-item-odd');e('.ui-autocomplete li.ui-menu-item:even').addClass('ui-menu-item-even');e(Drupal.settings.search_autocomplete[t].selector).removeClass('throbbing')},select:function(a,o){if(Drupal.settings.search_autocomplete[t].auto_redirect==1&&o.item.link){document.location.href=o.item.link}
else if(Drupal.settings.search_autocomplete[t].auto_submit==1&&o.item.value){e(this).val(o.item.value);e(this).closest('form').submit()}},focus:function(e,t){if(typeof t.item.group!='undefined'){if(t.item.group.group_id=='no_results'||t.item.group.group_id=='all_results'){e.preventDefault()}}},appendTo:e(Drupal.settings.search_autocomplete[t].selector).parent()}).autocomplete('widget').attr('data-sa-theme',Drupal.settings.search_autocomplete[t].theme)});e(Drupal.settings.search_autocomplete[t].selector).trigger('mouseover')})}}}})(jQuery);